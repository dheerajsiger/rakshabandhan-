<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Rakshabandhan!</title>
    <style>
        /* --- Google Fonts --- */
        @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&family=Hind:wght@400;600&display=swap');

        /* --- Basic Styles --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
            font-family: 'Hind', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- Ad Container Styles --- */
        .ad-container {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            z-index: 90;
            background-color: rgba(0, 0, 0, 0.4);
            padding: 5px;
            border-radius: 5px;
            max-width: 100%;
        }
        .ad-container-top {
            top: 5px;
        }
        .ad-container-bottom {
            bottom: 5px;
        }

        /* --- Background Effects (Rain, Clouds) --- */
        .background-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            opacity: 0.5;
        }
        .cloud { position: absolute; background: linear-gradient(to top, #f2f9fe 5%, #d6f0fd 100%); border-radius: 50%; opacity: 0.4; filter: blur(3px); animation: move-cloud 30s linear infinite; }
        .cloud.c1 { top: 10%; left: -20%; width: 180px; height: 60px; }
        .cloud.c2 { top: 25%; left: -30%; width: 220px; height: 70px; animation-duration: 40s; animation-delay: -7s; }
        @keyframes move-cloud { from { transform: translateX(0); } to { transform: translateX(calc(100vw + 350px)); } }
        .raindrop { position: absolute; bottom: 100%; width: 2px; height: 15px; background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0.3)); animation: fall 1s linear infinite; }
        @keyframes fall { to { transform: translateY(110vh); } }
        
        /* --- Top-level Fireworks Animation --- */
        #fireworks-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            pointer-events: none;
        }

        /* --- Main Content Card --- */
        .container {
            position: relative;
            z-index: 10;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 2px solid #fff;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }
        .image-container img { max-width: 100%; height: auto; border-radius: 15px; border: 3px solid #f06; margin-bottom: 20px; }
        h1 { font-family: 'Baloo 2', cursive; color: #d81b60; margin: 0; font-size: 2.5em; text-shadow: 1px 1px 3px rgba(0,0,0,0.1); }
        .sub-heading { font-family: 'Baloo 2', cursive; font-size: 1.4em; color: #e85a0c; margin: 5px 0 15px 0; font-weight: 600; }
        #sender-name-display { font-size: 1.2em; color: #333; margin: 10px 0 20px 0; font-weight: 600; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        #your-name { width: calc(100% - 22px); padding: 10px; border: 2px solid #ccc; border-radius: 8px; font-size: 1em; font-family: 'Hind', sans-serif; text-align: center; }
        #share-button { background: linear-gradient(45deg, #f06, #f79c2a); color: white; border: none; padding: 12px 25px; border-radius: 8px; font-size: 1.1em; font-weight: bold; cursor: pointer; margin-top: 15px; transition: transform 0.2s, box-shadow 0.2s; width: 100%; }

    </style>
</head>
<body>

    <!-- AD CONTAINER - TOP -->
    <div class="ad-container ad-container-top">
        <script type="text/javascript">
            atOptions = {
                'key' : '4644dd855c034b61db068e90bfde415d',
                'format' : 'iframe',
                'height' : 60,
                'width' : 468,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/4644dd855c034b61db068e90bfde415d/invoke.js"></script>
    </div>

    <div class="background-effects">
        <div id="rain-container"></div>
        <div class="cloud c1"></div>
        <div class="cloud c2"></div>
    </div>
    
    <canvas id="fireworks-canvas"></canvas>

    <div class="container">
        <div class="image-container">
            <img src="https://i.ibb.co/FL3Qzdrj/image-search-1750661929338.gif" alt="Rakshabandhan GIF">
        </div>

        <h1>Happy Rakshabandhan</h1>
        <p class="sub-heading">‡§≠‡§æ‡§à ‡§¨‡§π‡§® ‡§ï‡§æ ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§§‡•ç‡§Ø‡•å‡§π‡§æ‡§∞</p>
        
        <p id="sender-name-display"></p>

        <div class="input-group">
            <input type="text" id="your-name" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç">
            <button id="share-button">‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡§ï‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç üì≤</button>
        </div>
    </div>

    <!-- AD CONTAINER - BOTTOM -->
    <div class="ad-container ad-container-bottom">
        <script type="text/javascript">
            atOptions = {
                'key' : '4644dd855c034b61db068e90bfde415d',
                'format' : 'iframe',
                'height' : 60,
                'width' : 468,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/4644dd855c034b61db068e90bfde415d/invoke.js"></script>
    </div>

    <script>
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const senderName = params.get('sender');
            const senderDisplay = document.getElementById('sender-name-display');

            if (senderName) {
                senderDisplay.textContent = `‚ú® ${decodeURIComponent(senderName)} ‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã... ‚ú®`;
            } else {
                senderDisplay.textContent = `‚ú® Dheeraj ‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã... ‚ú®`;
            }
            
            createRaindrops();
            startFireworks();
        };

        document.getElementById('share-button').addEventListener('click', async () => {
            const yourName = document.getElementById('your-name').value.trim();
            if (yourName === "") { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç!"); return; }
            const newUrl = `${window.location.origin}${window.location.pathname}?sender=${encodeURIComponent(yourName)}`;
            
            // EDITED: Removed "‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•ã" from the sharing text
            const shareData = {
                title: 'Happy Rakshabandhan!',
                text: `üíñ ${yourName} ‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Ç! üíñ ‡§Ø‡§π ‡§™‡•ç‡§Ø‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡•á‡§ñ‡•á‡§Ç:`,
                url: newUrl
            };

            try {
                if (navigator.share) { await navigator.share(shareData); }
                else { navigator.clipboard.writeText(newUrl).then(() => alert('‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§á‡§∏ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§\n‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à, ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§ï‡§π‡•Ä‡§Ç ‡§≠‡•Ä ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§ï‡•á ‡§≠‡•á‡§ú ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç!')); }
            } catch (err) { console.error('Share failed:', err); }
        });

        function createRaindrops() {
            const rainContainer = document.getElementById('rain-container');
            for (let i = 0; i < 50; i++) {
                const drop = document.createElement('div');
                drop.className = 'raindrop';
                drop.style.left = `${Math.floor(Math.random() * window.innerWidth)}px`;
                drop.style.animationDuration = `${Math.random() * 1 + 0.5}s`;
                drop.style.animationDelay = `${Math.random() * 5}s`;
                rainContainer.appendChild(drop);
            }
        }

        function startFireworks() {
            const canvas = document.getElementById('fireworks-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            let fireworks = [], particles = [];
            
            function Firework(sx, sy, tx, ty) { this.x = sx; this.y = sy; this.sx = sx; this.sy = sy; this.tx = tx; this.ty = ty; this.distanceToTarget = Math.hypot(tx-sx, ty-sy); this.distanceTraveled = 0; this.coordinates = []; this.coordinateCount = 3; while(this.coordinateCount--) { this.coordinates.push([this.x, this.y]); } this.angle = Math.atan2(ty - sy, tx - sx); this.speed = 2; this.acceleration = 1.05; this.brightness = Math.random() * 50 + 50; }
            Firework.prototype.update = function(i) { this.coordinates.pop(); this.coordinates.unshift([this.x, this.y]); this.speed *= this.acceleration; let vx = Math.cos(this.angle) * this.speed, vy = Math.sin(this.angle) * this.speed; this.distanceTraveled = Math.hypot(this.x - this.sx, this.y - this.sy); if (this.distanceTraveled >= this.distanceToTarget) { createParticles(this.tx, this.ty); fireworks.splice(i, 1); } else { this.x += vx; this.y += vy; } };
            Firework.prototype.draw = function() { ctx.beginPath(); ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]); ctx.lineTo(this.x, this.y); ctx.strokeStyle = `hsl(${Math.random() * 360}, 100%, ${this.brightness}%)`; ctx.stroke(); };
            
            function Particle(x, y) { this.x = x; this.y = y; this.coordinates = []; this.coordinateCount = 5; while(this.coordinateCount--) { this.coordinates.push([this.x, this.y]); } this.angle = Math.random() * Math.PI * 2; this.speed = Math.random() * 10 + 1; this.friction = 0.95; this.gravity = 1; this.hue = Math.random() * 360; this.brightness = Math.random() * 40 + 60; this.alpha = 1; this.decay = Math.random() * 0.03 + 0.015; this.lineWidth = Math.random() * 1.5 + 1; }
            Particle.prototype.update = function(i) { this.coordinates.pop(); this.coordinates.unshift([this.x, this.y]); this.speed *= this.friction; this.x += Math.cos(this.angle) * this.speed; this.y += Math.sin(this.angle) * this.speed + this.gravity; this.alpha -= this.decay; if (this.alpha <= this.decay) particles.splice(i, 1); };
            Particle.prototype.draw = function() { ctx.beginPath(); ctx.lineWidth = this.lineWidth; ctx.moveTo(this.coordinates[this.coordinates.length-1][0], this.coordinates[this.coordinates.length-1][1]); ctx.lineTo(this.x, this.y); ctx.strokeStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.alpha})`; ctx.stroke(); };
            
            function createParticles(x, y) { let particleCount = 120; while(particleCount--) particles.push(new Particle(x, y)); }
            
            function loop() {
                requestAnimationFrame(loop);
                ctx.globalCompositeOperation = 'destination-out';
                ctx.fillStyle = 'rgba(0, 0, 0, 0.4)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.globalCompositeOperation = 'lighter';
                for (let i = fireworks.length-1; i >= 0; i--) { fireworks[i].draw(); fireworks[i].update(i); }
                for (let i = particles.length-1; i >= 0; i--) { particles[i].draw(); particles[i].update(i); }
                
                if (Math.random() < 0.35) {
                    fireworks.push(new Firework(canvas.width / 2, canvas.height, Math.random() * canvas.width, Math.random() * canvas.height / 2));
                    if (Math.random() > 0.4) { fireworks.push(new Firework(canvas.width / 2, canvas.height, Math.random() * canvas.width, Math.random() * canvas.height / 2)); }
                    if (Math.random() > 0.7) { fireworks.push(new Firework(canvas.width / 2, canvas.height, Math.random() * canvas.width, Math.random() * canvas.height / 2)); }
                }
            }
            loop();
        }
    </script>
</body>
</html>